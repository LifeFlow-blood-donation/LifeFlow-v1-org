{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Sithila/Documents/LifeFlow/frontend/app/components/VerifyOtp.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { Loader2 } from \"lucide-react\";\r\nimport { motion } from \"framer-motion\";\r\n\r\nconst VerifyOtp = ({ email }: { email: string }) => {\r\n  const router = useRouter();\r\n  const [otp, setOtp] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const handleVerifyOTP = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError(\"\");\r\n\r\n    try {\r\n      const response = await fetch(\"http://localhost:3001/users/verify-otp\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          email,\r\n          otp,\r\n        }),\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (!response.ok) {\r\n        throw new Error(data.message || \"OTP verification failed\");\r\n      }\r\n\r\n      // OTP verified, complete registration\r\n      const registerResponse = await fetch(\r\n        \"http://localhost:3001/users/register\",\r\n        {\r\n          method: \"POST\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          body: JSON.stringify({\r\n            firstName: formData.firstName,\r\n            lastName: formData.lastName,\r\n            email: formData.email,\r\n            password: formData.password,\r\n            phoneNumber: formData.phoneNumber,\r\n          }),\r\n        }\r\n      );\r\n\r\n      const registerData = await registerResponse.json();\r\n\r\n      if (!registerResponse.ok) {\r\n        throw new Error(registerData.message || \"Registration failed\");\r\n      }\r\n\r\n      // Registration successful, redirect to login\r\n      router.push(\"/login\");\r\n    } catch (error) {\r\n      if (error instanceof Error) {\r\n        setError(error.message || \"Something went wrong. Please try again.\");\r\n      } else {\r\n        setError(\"Something went wrong. Please try again.\");\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0, y: 20 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      className=\"h-screen flex items-center justify-center bg-gray-100\"\r\n    >\r\n      <motion.div\r\n        className=\"bg-white p-8 rounded-lg shadow-lg w-96\"\r\n        initial={{ opacity: 0, scale: 0.9 }}\r\n        animate={{ opacity: 1, scale: 1 }}\r\n      >\r\n        <h2 className=\"text-2xl font-bold mb-6 text-center\">Verify OTP</h2>\r\n        <form onSubmit={handleVerifyOTP} className=\"space-y-6\">\r\n          <div>\r\n            <label\r\n              htmlFor=\"otp\"\r\n              className=\"block text-sm font-medium text-gray-700\"\r\n            >\r\n              OTP\r\n            </label>\r\n            <input\r\n              id=\"otp\"\r\n              name=\"otp\"\r\n              type=\"text\"\r\n              value={otp}\r\n              onChange={(e) => setOtp(e.target.value)}\r\n              className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-red-500 focus:border-red-500\"\r\n              required\r\n            />\r\n          </div>\r\n          {error && <p className=\"text-sm text-red-500\">{error}</p>}\r\n          <button\r\n            type=\"submit\"\r\n            disabled={loading}\r\n            className=\"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50\"\r\n          >\r\n            {loading ? (\r\n              <Loader2 className=\"w-5 h-5 animate-spin\" />\r\n            ) : (\r\n              \"Verify OTP\"\r\n            )}\r\n          </button>\r\n        </form>\r\n      </motion.div>\r\n    </motion.div>\r\n  );\r\n};\r\n\r\nexport default VerifyOtp;\r\n"],"names":[],"mappings":";;;;AACA;AACA;AAEA;AADA;AAHA;;;;;;AAMA,MAAM,YAAY,CAAC,EAAE,KAAK,EAAqB;IAC7C,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,CAAC,KAAK,OAAO,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC/B,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEnC,MAAM,kBAAkB,OAAO;QAC7B,EAAE,cAAc;QAChB,WAAW;QACX,SAAS;QAET,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,0CAA0C;gBACrE,QAAQ;gBACR,SAAS;oBACP,gBAAgB;gBAClB;gBACA,MAAM,KAAK,SAAS,CAAC;oBACnB;oBACA;gBACF;YACF;YAEA,MAAM,OAAO,MAAM,SAAS,IAAI;YAEhC,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,IAAI,MAAM,KAAK,OAAO,IAAI;YAClC;YAEA,sCAAsC;YACtC,MAAM,mBAAmB,MAAM,MAC7B,wCACA;gBACE,QAAQ;gBACR,SAAS;oBACP,gBAAgB;gBAClB;gBACA,MAAM,KAAK,SAAS,CAAC;oBACnB,WAAW,SAAS,SAAS;oBAC7B,UAAU,SAAS,QAAQ;oBAC3B,OAAO,SAAS,KAAK;oBACrB,UAAU,SAAS,QAAQ;oBAC3B,aAAa,SAAS,WAAW;gBACnC;YACF;YAGF,MAAM,eAAe,MAAM,iBAAiB,IAAI;YAEhD,IAAI,CAAC,iBAAiB,EAAE,EAAE;gBACxB,MAAM,IAAI,MAAM,aAAa,OAAO,IAAI;YAC1C;YAEA,6CAA6C;YAC7C,OAAO,IAAI,CAAC;QACd,EAAE,OAAO,OAAO;YACd,IAAI,iBAAiB,OAAO;gBAC1B,SAAS,MAAM,OAAO,IAAI;YAC5B,OAAO;gBACL,SAAS;YACX;QACF,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,8OAAC,0LAAA,CAAA,SAAM,CAAC,GAAG;QACT,SAAS;YAAE,SAAS;YAAG,GAAG;QAAG;QAC7B,SAAS;YAAE,SAAS;YAAG,GAAG;QAAE;QAC5B,WAAU;kBAEV,cAAA,8OAAC,0LAAA,CAAA,SAAM,CAAC,GAAG;YACT,WAAU;YACV,SAAS;gBAAE,SAAS;gBAAG,OAAO;YAAI;YAClC,SAAS;gBAAE,SAAS;gBAAG,OAAO;YAAE;;8BAEhC,8OAAC;oBAAG,WAAU;8BAAsC;;;;;;8BACpD,8OAAC;oBAAK,UAAU;oBAAiB,WAAU;;sCACzC,8OAAC;;8CACC,8OAAC;oCACC,SAAQ;oCACR,WAAU;8CACX;;;;;;8CAGD,8OAAC;oCACC,IAAG;oCACH,MAAK;oCACL,MAAK;oCACL,OAAO;oCACP,UAAU,CAAC,IAAM,OAAO,EAAE,MAAM,CAAC,KAAK;oCACtC,WAAU;oCACV,QAAQ;;;;;;;;;;;;wBAGX,uBAAS,8OAAC;4BAAE,WAAU;sCAAwB;;;;;;sCAC/C,8OAAC;4BACC,MAAK;4BACL,UAAU;4BACV,WAAU;sCAET,wBACC,8OAAC,iNAAA,CAAA,UAAO;gCAAC,WAAU;;;;;uCAEnB;;;;;;;;;;;;;;;;;;;;;;;AAOd;uCAEe"}},
    {"offset": {"line": 213, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 219, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Sithila/Documents/LifeFlow/frontend/app/verify-email/page.tsx"],"sourcesContent":["\"use client\";\r\nimport VerifyOtp from \"../components/VerifyOtp\";\r\n\r\nexport default function VerifyOtpPage() {\r\n  return <VerifyOtp />;\r\n}\r\n"],"names":[],"mappings":";;;;AACA;AADA;;;AAGe,SAAS;IACtB,qBAAO,8OAAC,+HAAA,CAAA,UAAS;;;;;AACnB"}},
    {"offset": {"line": 234, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}